# ourlog
프로그래머스 백엔드 데브코스 6기 8회차 2차 프로젝트

# 🚀 개발 및 배포 프로세스 & Git 컨벤션 가이드

본 문서는 `dev` 브랜치에서 개발하고, `main` 브랜치에서 배포하는 프로젝트의  
Git 브랜치 전략, 커밋/PR 컨벤션, GitHub 자동화 워크플로우, 브랜치 보호 규칙을 정리한 가이드입니다.

---

## 1. 브랜치 전략

- **`dev`**: 개발 브랜치
  - 모든 기능 개발은 feature 브랜치를 만들어 `dev`에 PR로 머지
  - 자동 브랜치 생성 및 Draft PR 대상 브랜치
  - `dev` 브랜치로의 PR만 허용 (직접 push 및 PR은 제한 가능)

- **`main`**: 배포 브랜치
  - 안정화된 코드를 머지하여 배포
  - `dev` → `main` PR은 관리자 혹은 릴리즈 담당자만 생성 및 승인 가능
  - 외부 PR 및 직접 push는 제한하여 안정성 확보

---

## 2. 커밋 및 PR 컨벤션

### 2-1. 커밋 메시지 형식

- `type`: feat, fix, chore, refactor, docs, infra
- `scope`: fe, be

예:  
`feat(fe): 로그인 페이지 UI 추가`  
`fix(be): API 인증 오류 수정`

---

### 2-2. PR 제목 규칙

- 커밋 메시지와 동일한 형식으로 작성
- 예시: `feat(fe): 회원가입 기능 구현`
- PR 제목 규칙은 CI에서 자동 검사되며, 규칙 미준수 시 PR 승인 불가

---

## 3. 이슈 → 브랜치 → Draft PR 자동화

- 이슈 생성 시 `dev` 기준으로 브랜치 자동 생성 (`feat/fe-123-some-feature`)
- 생성된 브랜치로 Draft PR 자동 생성 (PR 베이스 브랜치는 `dev`)
- PR 본문에 `Closes #이슈번호` 자동 포함되어 이슈와 연결됨

---

## 4. CI/CD 파이프라인

### CI

- **Frontend CI**: `dev` 브랜치 대상 PR에서만 실행 (`frontend/**` 변경 시)
- **Backend CI**: `dev` 브랜치 대상 PR에서만 실행 (`backend/**` 변경 시)

### CD

- `main` 브랜치에 Push 시 자동 배포
- 프론트엔드: Vercel
- 백엔드: AWS Elastic Beanstalk

---

## 5. 라벨 및 프로젝트 자동화

- PR 변경 내용에 따라 자동 라벨링
  - `frontend/**` → `scope:fe`
  - `backend/**` → `scope:be`
  - `.github/**` → `scope:infra`

- Projects 칼럼 자동 이동 (예: 리뷰 요청 시 `In Review` 칼럼으로)

---

## 6. 브랜치 보호 규칙

| 브랜치 | 설정 내용                                                                                          |
|-------|------------------------------------------------------------------------------------------------|
| main  | - 직접 push 금지<br>- 모든 CI 통과 필수<br>- Force push 금지<br>- 외부 PR 차단 (관리자만 PR 가능) |
| dev   | - 직접 push 금지<br>- PR 리뷰 최소 2명 필수<br>- 모든 CI 통과 필수                                              |

---

## 7. 개발 플로우 요약

1. 이슈 생성 → `dev` 기준 브랜치 자동 생성 + Draft PR 자동 생성
2. 기능 개발 및 커밋 (`feat(fe): ~` 형식) → `dev` 브랜치로 PR
3. Draft → Ready for Review 전환 → PR 제목 및 라벨 자동 검사 및 지정
4. 리뷰 승인 및 CI 통과 → `dev` 브랜치에 머지
5. 충분히 테스트 → `dev` → `main` PR 생성 및 머지 (관리자/릴리즈 담당자만)
6. `main` 머지 시 자동 배포 시작

---

## 8. 참고

- PR 제목 및 커밋 메시지 컨벤션은 **CI에서 자동 검사**합니다.
- 한글 제목이 포함된 이슈는 Google Translate API를 이용해 브랜치 이름 생성 시 영어로 변환됩니다.
- `main` 브랜치는 관리자나 릴리즈 담당자만 PR 생성 및 머지 가능하도록 제한하여 안정성을 확보합니다.

---

> 이 프로세스를 통해 개발과 배포를 분리하여 안정성과 생산성을 동시에 높이고자 합니다.  
> 협업 시 가이드를 꼭 숙지하고 따라주세요!

---

*Last updated: 2025-07-23*
